
<div class="row row-cols-1 row-cols-xl-2 row-cols-lg-2 row-cols-md-1 row-cols-sm-1 text-center d-flex align-items-center justify-content-around ">
    <div class="col height  bg-pink rounded mt-sm-2 mt-2 ">
        
        <h3 class="pt-2">Total Balance</h3>
        <h3  id="incomedisplay" class="mt-5 ">0 Rs</h3>
    
    </div>
    <div class="col  height bg-primary rounded mt-sm-2 mt-2">
        
        <h3 class="pt-2 ">Total Expense</h3>
        <h3 id="expensedisplay" class="mt-5"> 0 Rs</h3>
    
    </div>
    
</div>
<div class="row mt-3">
    <div class="col text-xl-end ">
        <button onclick="viewmore(event)" class="btn border-0 "><a class="fw-medium " href="">View More</a></button>
         
    </div>
    <div class="col text-xl-end ">
        <button onclick="clearAll()" class="btn btn-warning fw-medium ">clear All <i class="fa-solid fa-broom"></i> </button>
    </div>
</div>

</div>
<!-- view more -->
<section id="alldetails">
<div  class="container bg-primary-subtle" >
<div id="tablediv" class="row row-cols-1 row-cols-xl-2 row-cols-lg-2 row-cols-md-1 row-cols-sm-1">
<h2 class="text-center mx-auto  text-dark  p-2 mb-2 mt-5   " >Income and Expense Details</h2>
<hr class="w-75 mx-auto border border-1 border-primary"> 
<div class="col">
    <h3 class="text-primary">Income</h3>
    <table id="incometable" class="table ">
        <thead class="table-danger fw-medium fs-5 ">
        <tr >
            <td scope="col">Type</td>
            <td scope="col">Amount</td>
            <td scope="col">Balance</td>
            <td scope="col">Date&Time</td>
        </tr>
    </thead>
        <tbody class="fw-medium "  id="incomedetails">

        </tbody>
        

    </table>
</div>
<div class="col">
    <h3 class="text-primary">Expense </h3>
    <table id="expensetable" class="table ">
        <thead class="table-danger fw-medium fs-5">
        <tr>
            <td scope="col">Type</td>
            <td scope="col">Amount</td>
            <td scope="col">Balance</td>
            <td scope="col">Date&Time</td>
        </tr>
    </thead>
        <tbody class="fw-medium " id="expensedetails">

        </tbody>
        

    </table>
</div>

<div class="row mt-4 mx-auto ">
    <h2 class="text-primary text-center">Expense Pie-Chart</h2>
    <div class="col  mx-auto text-center " style="width: 700px; height: 400px;">
        <canvas class="mx-auto" id="piechart"></canvas>
    </div>
</div>

</div>
</section>


</body>

<script>
function displaychart(){
const loggedkey1=localStorage.getItem('loggedkey')
let newobj1=JSON.parse(localStorage.getItem(loggedkey1))
const expensearray=newobj1.expenseArray;
let type=expensearray.map(x=>x.type);
let values=expensearray.map(x=>x.amt);
const mychart=document.getElementById("piechart").getContext('2d');
const chart=new Chart(mychart,{
    type:"pie",
 data:{
        labels: type,
        datasets: [{        
        data: values,
        backgroundColor: ['rgb(255, 99, 132)', 'rgb(54, 162, 235)',  'rgb(255, 205, 86)','black','green','grey','pink','purple'],
        }], 
      },
      options:{}
});
}

</script>
<script  src="./script.js"></script>
</html>
